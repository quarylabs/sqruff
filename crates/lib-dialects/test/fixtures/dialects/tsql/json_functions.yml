file:
- batch:
  - statement:
    - select_statement:
      - select_clause:
        - keyword: SELECT
        - select_clause_element:
          - function:
            - function:
              - function:
                - function_name:
                  - function_name_identifier: JSON_OBJECT
                - bracketed:
                  - start_bracket: (
                  - json_null_clause:
                    - keyword: ABSENT
                    - keyword: ON
                    - keyword: 'NULL'
                  - end_bracket: )
  - statement_terminator: ;
  - statement:
    - select_statement:
      - select_clause:
        - keyword: SELECT
        - select_clause_element:
          - function:
            - function:
              - function:
                - function_name:
                  - function_name_identifier: JSON_ARRAY
                - bracketed:
                  - start_bracket: (
                  - expression:
                    - quoted_literal: '''a'''
                  - comma: ','
                  - expression:
                    - numeric_literal: '1'
                  - comma: ','
                  - expression:
                    - quoted_literal: '''b'''
                  - comma: ','
                  - expression:
                    - numeric_literal: '2'
                  - end_bracket: )
  - statement_terminator: ;
  - statement:
    - select_statement:
      - select_clause:
        - keyword: SELECT
        - select_clause_element:
          - function:
            - function:
              - function:
                - function_name:
                  - function_name_identifier: JSON_ARRAY
                - bracketed:
                  - start_bracket: (
                  - expression:
                    - quoted_literal: '''a'''
                  - comma: ','
                  - expression:
                    - numeric_literal: '1'
                  - comma: ','
                  - expression:
                    - null_literal: 'NULL'
                  - comma: ','
                  - expression:
                    - numeric_literal: '2'
                  - comma: ','
                  - expression:
                    - null_literal: 'NULL'
                  - json_null_clause:
                    - keyword: ON
                    - keyword: 'NULL'
                  - end_bracket: )
  - statement_terminator: ;
  - statement:
    - select_statement:
      - select_clause:
        - keyword: SELECT
        - select_clause_element:
          - function:
            - function:
              - function:
                - function_name:
                  - function_name_identifier: JSON_OBJECT
                - bracketed:
                  - start_bracket: (
                  - expression:
                    - quoted_literal: '''name'''
                  - colon: ':'
                  - expression:
                    - quoted_literal: '''value'''
                  - comma: ','
                  - expression:
                    - quoted_literal: '''new'''
                  - colon: ':'
                  - expression:
                    - numeric_literal: '1'
                  - end_bracket: )
  - statement_terminator: ;
  - statement:
    - select_statement:
      - select_clause:
        - keyword: SELECT
        - select_clause_element:
          - function:
            - function:
              - function:
                - function_name:
                  - function_name_identifier: JSON_OBJECT
                - bracketed:
                  - start_bracket: (
                  - expression:
                    - quoted_literal: '''name'''
                  - colon: ':'
                  - expression:
                    - quoted_literal: '''value'''
                  - comma: ','
                  - expression:
                    - quoted_literal: '''type'''
                  - colon: ':'
                  - expression:
                    - null_literal: 'NULL'
                  - json_null_clause:
                    - keyword: ABSENT
                    - keyword: ON
                    - keyword: 'NULL'
                  - end_bracket: )
  - statement_terminator: ;
  - statement:
    - select_statement:
      - select_clause:
        - keyword: SELECT
        - select_clause_element:
          - function:
            - function:
              - function:
                - function_name:
                  - function_name_identifier: JSON_OBJECT
                - bracketed:
                  - start_bracket: (
                  - expression:
                    - quoted_literal: '''name'''
                  - colon: ':'
                  - expression:
                    - quoted_literal: '''value'''
                  - comma: ','
                  - expression:
                    - quoted_literal: '''type'''
                  - colon: ':'
                  - expression:
                    - function:
                      - function:
                        - function:
                          - function_name:
                            - function_name_identifier: JSON_ARRAY
                          - bracketed:
                            - start_bracket: (
                            - expression:
                              - numeric_literal: '1'
                            - comma: ','
                            - expression:
                              - numeric_literal: '2'
                            - end_bracket: )
                  - end_bracket: )
  - statement_terminator: ;
  - statement:
    - select_statement:
      - select_clause:
        - keyword: SELECT
        - select_clause_element:
          - function:
            - function:
              - function:
                - function_name:
                  - function_name_identifier: JSON_OBJECT
                - bracketed:
                  - start_bracket: (
                  - expression:
                    - quoted_literal: '''name'''
                  - colon: ':'
                  - expression:
                    - quoted_literal: '''value'''
                  - comma: ','
                  - expression:
                    - quoted_literal: '''type'''
                  - colon: ':'
                  - expression:
                    - function:
                      - function:
                        - function:
                          - function_name:
                            - function_name_identifier: JSON_OBJECT
                          - bracketed:
                            - start_bracket: (
                            - expression:
                              - quoted_literal: '''type_id'''
                            - colon: ':'
                            - expression:
                              - numeric_literal: '1'
                            - comma: ','
                            - expression:
                              - quoted_literal: '''name'''
                            - colon: ':'
                            - expression:
                              - quoted_literal: '''a'''
                            - end_bracket: )
                  - end_bracket: )
  - statement_terminator: ;
  - statement:
    - declare_statement:
      - keyword: DECLARE
      - tsql_variable: '@id_key'
      - data_type:
        - data_type:
          - data_type_identifier: nvarchar
          - bracketed:
            - start_bracket: (
            - expression:
              - numeric_literal: '10'
            - end_bracket: )
      - assignment_operator:
        - raw_comparison_operator: =
      - expression:
        - quoted_literal: N'id'
      - comma: ','
      - tsql_variable: '@id_value'
      - data_type:
        - data_type:
          - data_type_identifier: nvarchar
          - bracketed:
            - start_bracket: (
            - expression:
              - numeric_literal: '64'
            - end_bracket: )
      - assignment_operator:
        - raw_comparison_operator: =
      - expression:
        - function:
          - function:
            - function_name:
              - function_name_identifier: NEWID
            - function_contents:
              - bracketed:
                - start_bracket: (
                - end_bracket: )
  - statement_terminator: ;
  - statement:
    - select_statement:
      - select_clause:
        - keyword: SELECT
        - select_clause_element:
          - function:
            - function:
              - function:
                - function_name:
                  - function_name_identifier: JSON_OBJECT
                - bracketed:
                  - start_bracket: (
                  - expression:
                    - quoted_literal: '''user_name'''
                  - colon: ':'
                  - expression:
                    - function:
                      - function:
                        - function_name:
                          - function_name_identifier: USER_NAME
                        - function_contents:
                          - bracketed:
                            - start_bracket: (
                            - end_bracket: )
                  - comma: ','
                  - expression:
                    - parameterized_expression:
                      - tsql_variable: '@id_key'
                  - colon: ':'
                  - expression:
                    - parameterized_expression:
                      - tsql_variable: '@id_value'
                  - comma: ','
                  - expression:
                    - quoted_literal: '''sid'''
                  - colon: ':'
                  - expression:
                    - bracketed:
                      - start_bracket: (
                      - expression:
                        - select_statement:
                          - select_clause:
                            - keyword: SELECT
                            - select_clause_element:
                              - parameterized_expression:
                                - tsql_variable: '@@SPID'
                      - end_bracket: )
                  - end_bracket: )
  - statement_terminator: ;
  - statement:
    - select_statement:
      - select_clause:
        - keyword: SELECT
        - select_clause_element:
          - column_reference:
            - naked_identifier: s
            - dot: .
            - naked_identifier: session_id
        - comma: ','
        - select_clause_element:
          - function:
            - function:
              - function:
                - function_name:
                  - function_name_identifier: JSON_OBJECT
                - bracketed:
                  - start_bracket: (
                  - expression:
                    - quoted_literal: '''security_id'''
                  - colon: ':'
                  - expression:
                    - column_reference:
                      - naked_identifier: s
                      - dot: .
                      - naked_identifier: security_id
                  - comma: ','
                  - expression:
                    - quoted_literal: '''login'''
                  - colon: ':'
                  - expression:
                    - column_reference:
                      - naked_identifier: s
                      - dot: .
                      - naked_identifier: login_name
                  - comma: ','
                  - expression:
                    - quoted_literal: '''status'''
                  - colon: ':'
                  - expression:
                    - column_reference:
                      - naked_identifier: s
                      - dot: .
                      - naked_identifier: status
                  - end_bracket: )
          - alias_expression:
            - keyword: AS
            - naked_identifier: info
      - from_clause:
        - keyword: FROM
        - from_expression:
          - from_expression_element:
            - table_expression:
              - table_reference:
                - object_reference:
                  - naked_identifier: sys
                  - dot: .
                  - naked_identifier: dm_exec_sessions
            - alias_expression:
              - keyword: AS
              - naked_identifier: s
      - where_clause:
        - keyword: WHERE
        - expression:
          - column_reference:
            - naked_identifier: s
            - dot: .
            - naked_identifier: is_user_process
          - comparison_operator:
            - raw_comparison_operator: =
          - numeric_literal: '1'
  - statement_terminator: ;
  - statement:
    - select_statement:
      - select_clause:
        - keyword: SELECT
        - select_clause_element:
          - function:
            - function:
              - function:
                - function_name:
                  - function_name_identifier: JSON_ARRAY
                - bracketed:
                  - start_bracket: (
                  - expression:
                    - quoted_literal: '''a'''
                  - comma: ','
                  - expression:
                    - function:
                      - function:
                        - function:
                          - function_name:
                            - function_name_identifier: JSON_OBJECT
                          - bracketed:
                            - start_bracket: (
                            - expression:
                              - quoted_literal: '''name'''
                            - colon: ':'
                            - expression:
                              - quoted_literal: '''value'''
                            - comma: ','
                            - expression:
                              - quoted_literal: '''type'''
                            - colon: ':'
                            - expression:
                              - numeric_literal: '1'
                            - end_bracket: )
                  - end_bracket: )
  - statement_terminator: ;
  - statement:
    - select_statement:
      - select_clause:
        - keyword: SELECT
        - select_clause_element:
          - function:
            - function:
              - function:
                - function_name:
                  - function_name_identifier: JSON_ARRAY
                - bracketed:
                  - start_bracket: (
                  - expression:
                    - quoted_literal: '''a'''
                  - comma: ','
                  - expression:
                    - function:
                      - function:
                        - function:
                          - function_name:
                            - function_name_identifier: JSON_OBJECT
                          - bracketed:
                            - start_bracket: (
                            - expression:
                              - quoted_literal: '''name'''
                            - colon: ':'
                            - expression:
                              - quoted_literal: '''value'''
                            - comma: ','
                            - expression:
                              - quoted_literal: '''type'''
                            - colon: ':'
                            - expression:
                              - numeric_literal: '1'
                            - end_bracket: )
                  - comma: ','
                  - expression:
                    - function:
                      - function:
                        - function:
                          - function_name:
                            - function_name_identifier: JSON_ARRAY
                          - bracketed:
                            - start_bracket: (
                            - expression:
                              - numeric_literal: '1'
                            - comma: ','
                            - expression:
                              - null_literal: 'NULL'
                            - comma: ','
                            - expression:
                              - numeric_literal: '2'
                            - end_bracket: )
                  - json_null_clause:
                    - keyword: 'NULL'
                    - keyword: ON
                    - keyword: 'NULL'
                  - end_bracket: )
  - statement_terminator: ;
  - statement:
    - declare_statement:
      - keyword: DECLARE
      - tsql_variable: '@id_value'
      - data_type:
        - data_type:
          - data_type_identifier: nvarchar
          - bracketed:
            - start_bracket: (
            - expression:
              - numeric_literal: '64'
            - end_bracket: )
      - assignment_operator:
        - raw_comparison_operator: =
      - expression:
        - function:
          - function:
            - function_name:
              - function_name_identifier: NEWID
            - function_contents:
              - bracketed:
                - start_bracket: (
                - end_bracket: )
  - statement_terminator: ;
  - statement:
    - select_statement:
      - select_clause:
        - keyword: SELECT
        - select_clause_element:
          - function:
            - function:
              - function:
                - function_name:
                  - function_name_identifier: JSON_ARRAY
                - bracketed:
                  - start_bracket: (
                  - expression:
                    - numeric_literal: '1'
                  - comma: ','
                  - expression:
                    - parameterized_expression:
                      - tsql_variable: '@id_value'
                  - comma: ','
                  - expression:
                    - bracketed:
                      - start_bracket: (
                      - expression:
                        - select_statement:
                          - select_clause:
                            - keyword: SELECT
                            - select_clause_element:
                              - parameterized_expression:
                                - tsql_variable: '@@SPID'
                      - end_bracket: )
                  - end_bracket: )
  - statement_terminator: ;
  - statement:
    - select_statement:
      - select_clause:
        - keyword: SELECT
        - select_clause_element:
          - column_reference:
            - naked_identifier: s
            - dot: .
            - naked_identifier: session_id
        - comma: ','
        - select_clause_element:
          - function:
            - function:
              - function:
                - function_name:
                  - function_name_identifier: JSON_ARRAY
                - bracketed:
                  - start_bracket: (
                  - expression:
                    - column_reference:
                      - naked_identifier: s
                      - dot: .
                      - naked_identifier: host_name
                  - comma: ','
                  - expression:
                    - column_reference:
                      - naked_identifier: s
                      - dot: .
                      - naked_identifier: program_name
                  - comma: ','
                  - expression:
                    - column_reference:
                      - naked_identifier: s
                      - dot: .
                      - naked_identifier: client_interface_name
                  - end_bracket: )
      - from_clause:
        - keyword: FROM
        - from_expression:
          - from_expression_element:
            - table_expression:
              - table_reference:
                - object_reference:
                  - naked_identifier: sys
                  - dot: .
                  - naked_identifier: dm_exec_sessions
            - alias_expression:
              - keyword: AS
              - naked_identifier: s
      - where_clause:
        - keyword: WHERE
        - expression:
          - column_reference:
            - naked_identifier: s
            - dot: .
            - naked_identifier: is_user_process
          - comparison_operator:
            - raw_comparison_operator: =
          - numeric_literal: '1'
  - statement_terminator: ;
