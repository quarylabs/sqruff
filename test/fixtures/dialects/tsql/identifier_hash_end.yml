# Test metadata for identifier_hash_end.sql
# This file validates that T-SQL identifiers with # at the end are parsed correctly

# Expected structure:
# - Identifiers ending with # should be lexed as single Word tokens
# - Temp tables starting with # or ## should also be single tokens
# - The # character should not be treated as a comment when at the end of an identifier

test_tsql_identifier_hash_end:
  description: "SQL Server 2017+ allows # at the end of identifiers"
  expected_success: true
  
  # Key tokens to validate:
  expected_tokens:
    - orders#      # Table name
    - order_id#    # Column name
    - customer_id# # Column name
    - total#       # Column name
    - o#           # Table alias
    - id#          # Column alias
    - cust#        # Column alias
    - amount#      # Column alias
    - c#           # Table alias
    - name#        # Column name
    - order_summary# # CTE name
    - cid#         # Column alias
    - sum_total#   # Column alias
    - #temp_orders # Temp table (# at start)
    - ##global_temp_orders # Global temp table (## at start)